todo:
rewrite reducer to ts
